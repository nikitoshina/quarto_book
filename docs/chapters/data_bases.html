<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Research Toolkit - 5&nbsp; Relational Databases</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/data_validation.html" rel="next">
<link href="../chapters/tidy_data.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="../styles.css">
</head>
<body class="nav-sidebar floating">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/data_manipulation.html">Working with Data</a></li><li class="breadcrumb-item"><a href="../chapters/data_bases.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Relational Databases</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Research Toolkit</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/nikitoshina/quarto_book" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Set up</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Working with Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/data_manipulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Manipulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/tidy_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Tidy Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/data_bases.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Relational Databases</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/data_validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Optimizing Data Validation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/imputation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Imputation</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Reproducible Research</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/repres.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Reproducible Research</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/renv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Reproducible Environment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/modular_code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Modular Code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/linter_styler.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Style and Lint your Code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/command_line.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Introduction to Command Line</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/version_control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Version Control with Git and Github</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Lit Review and Writing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/litreview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Literature Research</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/write.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Write</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/layout_refs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Layout and References</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/template.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Thesis Template</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/collaboration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Collaboration</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Collecting the Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/survey_se.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Survey Error</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/good_questions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Design Questions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/survey_tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Survey Tools</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/api.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">APIs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/google.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Google Services in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/qualtrics_api.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Qualtrics API</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/documentation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Document</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Presenting the Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/data_viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Data Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/color.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Color</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/which_graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">A Graph for The Job</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Make Tables</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#sec-relationships" id="toc-sec-relationships" class="nav-link active" data-scroll-target="#sec-relationships"><span class="header-section-number">5.1</span> Relationship Types</a>
  <ul class="collapse">
<li><a href="#one-to-one-11" id="toc-one-to-one-11" class="nav-link" data-scroll-target="#one-to-one-11"><span class="header-section-number">5.1.1</span> One to One (1:1)</a></li>
  <li><a href="#one-to-many-1m" id="toc-one-to-many-1m" class="nav-link" data-scroll-target="#one-to-many-1m"><span class="header-section-number">5.1.2</span> One to Many (1:M)</a></li>
  <li><a href="#many-to-many-mn" id="toc-many-to-many-mn" class="nav-link" data-scroll-target="#many-to-many-mn"><span class="header-section-number">5.1.3</span> Many to Many (M:N)</a></li>
  </ul>
</li>
  <li><a href="#the-concept-of-keys" id="toc-the-concept-of-keys" class="nav-link" data-scroll-target="#the-concept-of-keys"><span class="header-section-number">5.2</span> The Concept of Keys</a></li>
  <li>
<a href="#types-of-joins" id="toc-types-of-joins" class="nav-link" data-scroll-target="#types-of-joins"><span class="header-section-number">5.3</span> Types of Joins</a>
  <ul class="collapse">
<li><a href="#outer-joins" id="toc-outer-joins" class="nav-link" data-scroll-target="#outer-joins"><span class="header-section-number">5.3.1</span> Outer Joins</a></li>
  <li><a href="#filtering-joins" id="toc-filtering-joins" class="nav-link" data-scroll-target="#filtering-joins"><span class="header-section-number">5.3.2</span> Filtering Joins</a></li>
  </ul>
</li>
  <li><a href="#visualizing-databases" id="toc-visualizing-databases" class="nav-link" data-scroll-target="#visualizing-databases"><span class="header-section-number">5.4</span> Visualizing Databases</a></li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/nikitoshina/quarto_book/edit/main/chapters/data_bases.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/nikitoshina/quarto_book/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><!-- Container for reading time --><div id="reading-time"></div>

<!-- JavaScript code for calculating reading time -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const wordsPerMinute = 200;
  const content = document.querySelector("main");
  const wordCount = content.innerText.split(/\s+/).length;
  const readingTime = Math.ceil(wordCount / wordsPerMinute);

  const readingTimeContainer = document.getElementById("reading-time");
  readingTimeContainer.textContent = `Estimated reading time: ${readingTime} minute${readingTime != 1 ? "s" : ""}`;
});
</script><!-- CSS code for styling the reading time container --><style>
#reading-time {
  font-size: 0.9em;
  color: #666;
  margin-bottom: 1em;
}
</style>
<header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Relational Databases</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><p>A database is an organized collection of data that can be easily stored, managed, updated, and retrieved. One such type is the relational database, which structures data into tables consisting of rows and columns. Each row, also known as a record, encapsulates information about a single entity, while each column, or attribute, defines a specific aspect of that entity.</p>
<p>Relational databases employ tables and relationships between these tables to store data. A row signifies a unique instance of a table’s subject, while a column represents a distinct characteristic of the subject.</p>
<p>For example, consider the following table:</p>
<table class="table">
<thead><tr class="header">
<th>Student ID</th>
<th>Student Name</th>
<th>HW1</th>
<th>HW2</th>
<th>MidTerm</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>20101002</td>
<td>Nikita</td>
<td>88</td>
<td>100</td>
<td>76</td>
</tr>
<tr class="even">
<td>20101003</td>
<td>Nelson</td>
<td>78</td>
<td>98</td>
<td>100</td>
</tr>
<tr class="odd">
<td>20101004</td>
<td>Parsa</td>
<td>98</td>
<td>99</td>
<td>95</td>
</tr>
<tr class="even">
<td>20101005</td>
<td>Shivani</td>
<td>56</td>
<td>80</td>
<td>76</td>
</tr>
</tbody>
</table>
<p>When rows from one table can be associated with rows in another table, the tables are understood to share a relationship.</p>
<section id="sec-relationships" class="level2" data-number="5.1"><h2 data-number="5.1" class="anchored" data-anchor-id="sec-relationships">
<span class="header-section-number">5.1</span> Relationship Types</h2>
<section id="one-to-one-11" class="level3" data-number="5.1.1"><h3 data-number="5.1.1" class="anchored" data-anchor-id="one-to-one-11">
<span class="header-section-number">5.1.1</span> One to One (1:1)</h3>
<p>In a one-to-one relationship, a single row in the first table corresponds to just one row in the second table, and vice versa. For example, the relationship between Countries and their respective Capitals:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 214.00 130.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 126)"><title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-126 210,-126 210,4 -4,4"></polygon><g id="clust1" class="cluster"><title>
cluster_0
</title>
<polygon fill="none" stroke="white" points="8,-8 8,-114 96,-114 96,-8 8,-8"></polygon></g><g id="clust2" class="cluster"><title>
cluster_1
</title>
<polygon fill="none" stroke="white" points="116,-8 116,-114 198,-114 198,-8 116,-8"></polygon></g><!-- Table1 --><g id="node1" class="node"><title>
Table1
</title>
<polygon fill="lightblue" stroke="transparent" points="25,-81 25,-101 79,-101 79,-81 25,-81"></polygon><text text-anchor="start" x="26.72" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Country</text><text text-anchor="start" x="35.28" y="-66.4" font-family="Times,serif" font-size="14.00">China</text><text text-anchor="start" x="32.96" y="-46.4" font-family="Times,serif" font-size="14.00">France</text><text text-anchor="start" x="39.17" y="-26.4" font-family="Times,serif" font-size="14.00">Italy</text><polygon fill="none" stroke="black" points="24,-20 24,-102 80,-102 80,-20 24,-20"></polygon></g><!-- Table2 --><g id="node2" class="node"><title>
Table2
</title>
<polygon fill="lightblue" stroke="transparent" points="133,-81 133,-101 181,-101 181,-81 133,-81"></polygon><text text-anchor="start" x="134.83" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Capital</text><text text-anchor="start" x="136.39" y="-66.4" font-family="Times,serif" font-size="14.00">Beijing</text><text text-anchor="start" x="143" y="-46.4" font-family="Times,serif" font-size="14.00">Paris</text><text text-anchor="start" x="140.28" y="-26.4" font-family="Times,serif" font-size="14.00">Rome</text><polygon fill="none" stroke="black" points="132,-20 132,-102 182,-102 182,-20 132,-20"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge1" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M80,-71C80,-71 106.86,-71 121.97,-71"></path><polygon fill="black" stroke="black" points="122,-74.5 132,-71 122,-67.5 122,-74.5"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge2" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M80,-51C80,-51 106.86,-51 121.97,-51"></path><polygon fill="black" stroke="black" points="122,-54.5 132,-51 122,-47.5 122,-54.5"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge3" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M80,-31C80,-31 106.86,-31 121.97,-31"></path><polygon fill="black" stroke="black" points="122,-34.5 132,-31 122,-27.5 122,-34.5"></polygon></g></g></svg>
</div>
</div>
</div>
</div>
</section><section id="one-to-many-1m" class="level3" data-number="5.1.2"><h3 data-number="5.1.2" class="anchored" data-anchor-id="one-to-many-1m">
<span class="header-section-number">5.1.2</span> One to Many (1:M)</h3>
<p>In a one-to-many relationship, a single row in the first table can be linked to multiple rows in the second table, but a row in the second table is related to only one row in the first table. For instance, one Professor can teach several Classes:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 215.00 130.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 126)"><title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-126 211,-126 211,4 -4,4"></polygon><g id="clust1" class="cluster"><title>
cluster_0
</title>
<polygon fill="none" stroke="white" points="8,-28 8,-114 102,-114 102,-28 8,-28"></polygon></g><g id="clust2" class="cluster"><title>
cluster_1
</title>
<polygon fill="none" stroke="white" points="122,-8 122,-114 199,-114 199,-8 122,-8"></polygon></g><!-- Table1 --><g id="node1" class="node"><title>
Table1
</title>
<polygon fill="lightblue" stroke="transparent" points="25,-81 25,-101 85,-101 85,-81 25,-81"></polygon><text text-anchor="start" x="26.62" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Professor</text><text text-anchor="start" x="36.72" y="-66.4" font-family="Times,serif" font-size="14.00">Hobbs</text><text text-anchor="start" x="43.34" y="-46.4" font-family="Times,serif" font-size="14.00">Doe</text><polygon fill="none" stroke="black" points="24,-40 24,-102 86,-102 86,-40 24,-40"></polygon></g><!-- Table2 --><g id="node2" class="node"><title>
Table2
</title>
<polygon fill="lightblue" stroke="transparent" points="139.5,-81 139.5,-101 182.5,-101 182.5,-81 139.5,-81"></polygon><text text-anchor="start" x="145.05" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Class</text><text text-anchor="start" x="141.17" y="-66.4" font-family="Times,serif" font-size="14.00">690-02</text><text text-anchor="start" x="141.17" y="-46.4" font-family="Times,serif" font-size="14.00">692-01</text><text text-anchor="start" x="141.17" y="-26.4" font-family="Times,serif" font-size="14.00">405-01</text><polygon fill="none" stroke="black" points="138,-20 138,-102 183,-102 183,-20 138,-20"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge1" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M86,-71C86,-71 113.12,-71 128.38,-71"></path><polygon fill="black" stroke="black" points="128.5,-74.5 138.5,-71 128.5,-67.5 128.5,-74.5"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge2" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M86,-51C86,-51 113.12,-51 128.38,-51"></path><polygon fill="black" stroke="black" points="128.5,-54.5 138.5,-51 128.5,-47.5 128.5,-54.5"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge3" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M86,-71C86,-71 113.71,-60.44 128.87,-54.67"></path><polygon fill="black" stroke="black" points="130.4,-57.83 138.5,-51 127.91,-51.29 130.4,-57.83"></polygon></g></g></svg>
</div>
</div>
</div>
</div>
</section><section id="many-to-many-mn" class="level3" data-number="5.1.3"><h3 data-number="5.1.3" class="anchored" data-anchor-id="many-to-many-mn">
<span class="header-section-number">5.1.3</span> Many to Many (M:N)</h3>
<p>In a many-to-many relationship, a single row in the first table can be associated with many rows in the second table, and similarly, a row in the second table can be associated with many rows in the first table. For example, multiple Students can be enrolled in multiple Classes:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 205.00 130.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 126)"><title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-126 201,-126 201,4 -4,4"></polygon><g id="clust1" class="cluster"><title>
cluster_0
</title>
<polygon fill="none" stroke="white" points="8,-8 8,-114 92,-114 92,-8 8,-8"></polygon></g><g id="clust2" class="cluster"><title>
cluster_1
</title>
<polygon fill="none" stroke="white" points="112,-8 112,-114 189,-114 189,-8 112,-8"></polygon></g><!-- Table1 --><g id="node1" class="node"><title>
Table1
</title>
<polygon fill="lightblue" stroke="transparent" points="25,-81 25,-101 75,-101 75,-81 25,-81"></polygon><text text-anchor="start" x="26.66" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Student</text><text text-anchor="start" x="36.78" y="-66.4" font-family="Times,serif" font-size="14.00">John</text><text text-anchor="start" x="32.89" y="-46.4" font-family="Times,serif" font-size="14.00">David</text><text text-anchor="start" x="29.4" y="-26.4" font-family="Times,serif" font-size="14.00">Celeste</text><polygon fill="none" stroke="black" points="24,-20 24,-102 76,-102 76,-20 24,-20"></polygon></g><!-- Table2 --><g id="node2" class="node"><title>
Table2
</title>
<polygon fill="lightblue" stroke="transparent" points="129.5,-81 129.5,-101 172.5,-101 172.5,-81 129.5,-81"></polygon><text text-anchor="start" x="135.05" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Class</text><text text-anchor="start" x="131.17" y="-66.4" font-family="Times,serif" font-size="14.00">690-02</text><text text-anchor="start" x="131.17" y="-46.4" font-family="Times,serif" font-size="14.00">692-01</text><text text-anchor="start" x="131.17" y="-26.4" font-family="Times,serif" font-size="14.00">405-01</text><polygon fill="none" stroke="black" points="128,-20 128,-102 173,-102 173,-20 128,-20"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge1" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="red" d="M76,-71C76,-71 103.12,-71 118.38,-71"></path><polygon fill="red" stroke="red" points="118.5,-74.5 128.5,-71 118.5,-67.5 118.5,-74.5"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge2" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="red" d="M76,-71C76,-71 103.71,-60.44 118.87,-54.67"></path><polygon fill="red" stroke="red" points="120.4,-57.83 128.5,-51 117.91,-51.29 120.4,-57.83"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge3" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="blue" d="M76,-51C76,-51 103.71,-61.56 118.87,-67.33"></path><polygon fill="blue" stroke="blue" points="117.91,-70.71 128.5,-71 120.4,-64.17 117.91,-70.71"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge4" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="blue" d="M76,-51C76,-51 103.12,-51 118.38,-51"></path><polygon fill="blue" stroke="blue" points="118.5,-54.5 128.5,-51 118.5,-47.5 118.5,-54.5"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge5" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="blue" d="M76,-51C76,-51 103.71,-40.44 118.87,-34.67"></path><polygon fill="blue" stroke="blue" points="120.4,-37.83 128.5,-31 117.91,-31.29 120.4,-37.83"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge6" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="orange" d="M76,-31C76,-31 103.71,-41.56 118.87,-47.33"></path><polygon fill="orange" stroke="orange" points="117.91,-50.71 128.5,-51 120.4,-44.17 117.91,-50.71"></polygon></g><!-- Table1&#45;&gt;Table2 --><g id="edge7" class="edge"><title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="orange" d="M76,-31C76,-31 103.12,-31 118.38,-31"></path><polygon fill="orange" stroke="orange" points="118.5,-34.5 128.5,-31 118.5,-27.5 118.5,-34.5"></polygon></g></g></svg>
</div>
</div>
</div>
</div>
</section></section><section id="the-concept-of-keys" class="level2" data-number="5.2"><h2 data-number="5.2" class="anchored" data-anchor-id="the-concept-of-keys">
<span class="header-section-number">5.2</span> The Concept of Keys</h2>
<p>A Primary Key (PK) is a unique identifier for each row within a table; every table should possess a primary key. To establish relationships between tables, we integrate PKs from one table into another, where they become Foreign Keys (FKs). These FKs allow us to draw connections between related entities across different tables.</p>
<div id="tbl-keys" class="tbl-parent quarto-layout-panel anchored">
<div class="panel-caption table-caption">
<p>Keys</p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">ClassID (PK)</th>
<th style="text-align: left;">ProfessorID (FK)</th>
<th style="text-align: left;">Credits</th>
<th style="text-align: left;">Location</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">620-01</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">LM-340</td>
</tr>
<tr class="even">
<td style="text-align: left;">623-01</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">UM-102</td>
</tr>
<tr class="odd">
<td style="text-align: left;">663-01</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">LO-234</td>
</tr>
</tbody>
</table>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">ProfessorID (PK)</th>
<th style="text-align: left;">Professor</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Arman</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Alessandra</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section><section id="types-of-joins" class="level2" data-number="5.3"><h2 data-number="5.3" class="anchored" data-anchor-id="types-of-joins">
<span class="header-section-number">5.3</span> Types of Joins</h2>
<p>In relational databases, a join operation is employed to merge two or more tables based on a related column between them. There are several types of joins. To exemplify how joins operate, we will use two tables: <code>employees</code> and <code>projects</code>. The <code>employees</code> table includes <code>employee_id</code> (Primary Key) and <code>name</code>, while the <code>projects</code> table contains <code>project_id</code> (Primary Key) and <code>employee_id</code> (Foreign Key).</p>
<div>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">employees</span>, caption <span class="op">=</span> <span class="st">"Employees Table"</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">projects</span>, caption <span class="op">=</span> <span class="st">"Projects Table"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<caption>Employees Table</caption>
<thead><tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Tom</td>
</tr>
</tbody>
</table>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<caption>Projects Table</caption>
<thead><tr class="header">
<th style="text-align: right;">project_id</th>
<th style="text-align: right;">employee_id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<section id="outer-joins" class="level3" data-number="5.3.1"><h3 data-number="5.3.1" class="anchored" data-anchor-id="outer-joins">
<span class="header-section-number">5.3.1</span> Outer Joins</h3>
<p>Outer joins are utilized to return matched data and unmatched data from one or both tables, effectively creating a more comprehensive table.</p>
<section id="left-join" class="level4" data-number="5.3.1.1"><h4 data-number="5.3.1.1" class="anchored" data-anchor-id="left-join">
<span class="header-section-number">5.3.1.1</span> Left Join</h4>
<p>A left join retrieves all the rows from the left table and only the matched rows from the right table. Essentially, it enriches the left table with additional information.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/Left_Join.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Left Join Illustration</figcaption></figure>
</div>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">left_join_result</span> <span class="op">&lt;-</span> <span class="va">employees</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">left_join</span><span class="op">(</span><span class="va">projects</span>, by <span class="op">=</span> <span class="st">"employee_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">left_join_result</span>, caption <span class="op">=</span> <span class="st">"Result of Left Join"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Result of Left Join</caption>
<thead><tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
<th style="text-align: right;">project_id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Tom</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section id="right-join" class="level4" data-number="5.3.1.2"><h4 data-number="5.3.1.2" class="anchored" data-anchor-id="right-join">
<span class="header-section-number">5.3.1.2</span> Right Join</h4>
<p>A right join operates similarly to a left join, but it retrieves all the rows from the right table and only the matched rows from the left table.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/Right_Join.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Right Join Illustration</figcaption></figure>
</div>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">right_join_result</span> <span class="op">&lt;-</span> <span class="va">employees</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">right_join</span><span class="op">(</span><span class="va">projects</span>, by <span class="op">=</span> <span class="st">"employee_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">right_join_result</span>, caption <span class="op">=</span> <span class="st">"Result of Right Join"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Result of Right Join</caption>
<thead><tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
<th style="text-align: right;">project_id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section id="full-join" class="level4" data-number="5.3.1.3"><h4 data-number="5.3.1.3" class="anchored" data-anchor-id="full-join">
<span class="header-section-number">5.3.1.3</span> Full Join</h4>
<p>A full join returns all the rows from both tables, filling non-matching rows with null values. It essentially merges both tables.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/Full_Join.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Full Join Illustration</figcaption></figure>
</div>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">full_join_result</span> <span class="op">&lt;-</span> <span class="va">employees</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">full_join</span><span class="op">(</span><span class="va">projects</span>, by <span class="op">=</span> <span class="st">"employee_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">full_join_result</span>, caption <span class="op">=</span> <span class="st">"Result of Full Join"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Result of Full Join</caption>
<thead><tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
<th style="text-align: right;">project_id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Tom</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section id="inner-join" class="level4" data-number="5.3.1.4"><h4 data-number="5.3.1.4" class="anchored" data-anchor-id="inner-join">
<span class="header-section-number">5.3.1.4</span> Inner Join</h4>
<p>An inner join only returns the matched rows between two tables. Thus, only the rows that found a match in both tables will be retained.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/Inner_Join.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Inner Join Illustration</figcaption></figure>
</div>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">inner_join_result</span> <span class="op">&lt;-</span> <span class="va">employees</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">inner_join</span><span class="op">(</span><span class="va">projects</span>, by <span class="op">=</span> <span class="st">"employee_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">inner_join_result</span>, caption <span class="op">=</span> <span class="st">"Result of Inner Join"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Result of Inner Join</caption>
<thead><tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
<th style="text-align: right;">project_id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
</section></section><section id="filtering-joins" class="level3" data-number="5.3.2"><h3 data-number="5.3.2" class="anchored" data-anchor-id="filtering-joins">
<span class="header-section-number">5.3.2</span> Filtering Joins</h3>
<section id="anti-join" class="level4" data-number="5.3.2.1"><h4 data-number="5.3.2.1" class="anchored" data-anchor-id="anti-join">
<span class="header-section-number">5.3.2.1</span> Anti Join</h4>
<p>An anti join returns the rows from the left table that do not find a corresponding match in the right table, without adding any new columns to the output. It’s useful when you want to filter rows based on the absence of matching entries in the other table.</p>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">anti_join_result</span> <span class="op">&lt;-</span> <span class="va">employees</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">anti_join</span><span class="op">(</span><span class="va">projects</span>, by <span class="op">=</span> <span class="st">"employee_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">anti_join_result</span>, caption <span class="op">=</span> <span class="st">"Result of Anti Join"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Result of Anti Join</caption>
<thead><tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Tom</td>
</tr></tbody>
</table>
</div>
</div>
</div><div class="column">
<p>Tom does not have a project assigned! Perhaps he could take on project 6?</p>
</div>
</div>
</section><section id="semi-join" class="level4" data-number="5.3.2.2"><h4 data-number="5.3.2.2" class="anchored" data-anchor-id="semi-join">
<span class="header-section-number">5.3.2.2</span> Semi Join</h4>
<p>A semi join is akin to an inner join in identifying matching rows between two tables. However, unlike an inner join, it does not add any new columns to the output. Instead, it filters the rows from the left table that have a corresponding match in the right table. You’d use a semi join when you want to filter the left table based on the presence of matching entries in the right table.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">semi_join_result</span> <span class="op">&lt;-</span> <span class="va">employees</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">semi_join</span><span class="op">(</span><span class="va">projects</span>, by <span class="op">=</span> <span class="st">"employee_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">semi_join_result</span>, caption <span class="op">=</span> <span class="st">"Result of Semi Join"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Result of Semi Join</caption>
<thead><tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
</tr>
</tbody>
</table>
</div>
</div>
</section></section></section><section id="visualizing-databases" class="level2" data-number="5.4"><h2 data-number="5.4" class="anchored" data-anchor-id="visualizing-databases">
<span class="header-section-number">5.4</span> Visualizing Databases</h2>
<p>Remember our discussion on UML? We’re going to use it to construct an Entity-Relationship Model to understand how tables in our database are related and how they interact, simplifying our later work. UML coding tools like Mermaid and Graphviz are options, but I find that drag-and-drop web applications such as <a href="https://www.lucidchart.com">LucidChart</a> and <a href="https://app.diagrams.net/">Draw.io</a> are more user-friendly. First, let’s introduce an entity, which is an object (place, person, thing) that we want to track in our database. In our case, these will be a customer, order, and product. Each entity possesses attributes, for example, a customer has <code>customer_id</code>, <code>name</code>, <code>email</code>, <code>address</code>, etc., and other entities also have a list of attributes. These entities and attributes are represented as rows and columns, respectively, in your tables. Tables can be interconnected, and these relationships are visualized by drawing a line between the tables. Cardinality is used to describe these relationships in numeric terms, akin to our discussion in <a href="#sec-relationships"><span>Section&nbsp;5.1</span></a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/cardinality.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Cardinality</figcaption></figure>
</div>
<p>For instance, let’s examine the relationship between a customer and an order. We ask: what is the relationship between a customer and an order? Using the min, max framework, what is the minimum and maximum number of orders a customer can have? A customer can have zero orders (min = 0) and an indefinite amount of orders (max = many). So, the relationship from customer to order is 0 or many. Now, let’s look in the opposite direction: how many customers can an order have? An order can have only one customer (min = 1, max = 1).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/customer_order.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Customer-Order Relationship</figcaption></figure>
</div>
<p>Next, let’s examine the relationship between an order and a product. An order can include one or many products, and each product can be in zero or many orders. The complete diagram would resemble the following:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/ERD.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Entity-Relationship Diagram</figcaption></figure>
</div>
<p>Creating such a diagram is recommended whenever you’re planning a project with a complex design. It clarifies the necessary tables and their relationships. You could also sketch a diagram whenever you’re unsure about a data set. If you’d like to delve deeper into this topic, check out the <a href="https://www.youtube.com/@lucid_software">Lucid Software YouTube</a> guides and <a href="https://www.youtube.com/watch?v=6Iu45VZGQDke">Neso Academy’s Database Management Systems course</a>.</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Handle positioning of the toggle
      window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../chapters/tidy_data.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Tidy Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/data_validation.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Optimizing Data Validation</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>