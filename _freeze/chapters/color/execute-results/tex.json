{
  "hash": "a6d89458d7bab0e8179d2f3345e5d094",
  "result": {
    "markdown": "---\ntitle: \"Color Data\"\neditor: visual\nformat:\n  html:\n    code-fold: true\n    code-summary: \"Show the code\"\ntidy: true\n---\n\n\n\nColor plays an essential role in data visualization. It holds the power to stir emotions, underline patterns, and convey information that may otherwise be challenging to communicate. The skillful application of color in data visualization can enhance a viewer's understanding and engagement with the data, while inappropriate use may hide important details and lead to confusion. This discussion will guide you through the creation of various color schemes and palettes.\n\nColor is a potent tool as it can convey information quickly and efficiently. By assigning different colors to distinct data points or categories, we can form visual patterns that are easier to understand and remember. Color can also be used to emphasize crucial trends or outliers. Furthermore, color can enhance the appeal of visualizations, helping to hold the viewers' attention and increase their understanding and retention of the information.\n\nColor can stimulate responses and influence people's emotions and perceptions. For instance, in the U.S., red is often associated with danger or passion, blue with tranquility or sadness, and green with nature or health. Keep in mind that the cultural interpretations of colors vary, so color usage should be adjusted based on your audience's perspective. The impact of color is considered so significant that since 1979, the locker room at Iowa's Kinnick Stadium has been painted pink with the goal of lowering opponents' testosterone levels. ![Kinnick Stadium Pink Locker Room](images/Kinnick_Stadium_Pink.jpeg)\n\n![color theory poster [@wilsonInkfumesPosterDesigns2011]](images/COLORTHEORY_A.jpeg)\n\n## Color and Categorical Data\n\n### Emphasizing Significant Details\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapminder1997eu <- gapminder %>% filter((year == 1997) & (continent == \"Europe\"))\ncontinents <- gapminder %>%\n  select(-country) %>%\n  mutate(gdp = gdpPercap * pop) %>%\n  group_by(year, continent) %>%\n  summarize(total_pop_mil = sum(pop) / 10^6, total_gdp = sum(gdp), total_gdppc = total_gdp / (total_pop_mil * 10^6)) %>%\n  ungroup()\nmalay_miracle <- gapminder %>% filter(country %in% c(\"Malaysia\", \"Vietnam\", \"Indonesia\", \"Thailand\"))\nasian_tigers <- gapminder %>%\n  filter(country %in% c(\"Hong Kong, China\", \"Taiwan\", \"Singapore\", \"Korea, Rep.\")) %>%\n  mutate(country = recode(country, \"Hong Kong, China\" = \"Hong Kong\", \"Korea, Rep.\" = \"South Korea\"))\n```\n:::\n\n\n\nColor is employed to underscore specific data and provide context. Consider the two graphs below, both of which compare the GDP of European countries in 1997. The first graph assigns each country a distinct color, resulting in a visual cacophony akin to an \"explosion at a candy factory\". The second graph improves upon this by minimizing distractions. It highlights \"Greece\" and greys out the remaining countries. The use of \"red\" for Greece serves as a signal, hinting that its economic performance may be subpar.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- gapminder1997eu %>%\n  mutate(is.Greece = country == \"Greece\") %>%\n  ggplot(aes(y = fct_reorder(country, gdpPercap), x = gdpPercap)) +\n  geom_segment(aes(yend = country, xend = 0, color = country), size = 1, show.legend = FALSE) +\n  geom_point(aes(color = country), show.legend = FALSE, size = 3) +\n  theme_minimal(base_size = 12) +\n  theme(\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor = element_blank()\n  ) +\n  # ggplot2::scale_color_manual(values = c(\"#7286D3\",\"#D37286\")) +\n  labs(x = \"GDP per Capita\", y = element_blank()) +\n  coord_cartesian(expand = FALSE, clip = \"off\")\n\np2 <- gapminder1997eu %>%\n  mutate(is.Greece = country == \"Greece\") %>%\n  ggplot(aes(y = fct_reorder(country, gdpPercap), x = gdpPercap)) +\n  geom_segment(aes(yend = country, xend = 0, color = is.Greece), size = 1, show.legend = FALSE) +\n  geom_point(aes(color = is.Greece), show.legend = FALSE, size = 3) +\n  theme_minimal(base_size = 12) +\n  theme(\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor = element_blank()\n  ) +\n  ggplot2::scale_color_manual(values = c(\"grey\", \"#D37286\")) +\n  labs(x = \"GDP per Capita\", y = element_blank()) +\n  coord_cartesian(expand = FALSE, clip = \"off\")\n\np1 + p2 + plot_annotation(title = \"Countries in Europe by GDP per Capita\", theme = theme(plot.title = element_text(size = 16)))\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-3-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Comparing Two Things\n\n\n\n\n\n\n\n#### Complementary Harmony with a Positive/Negative Connotation\n\n\nComplementary Harmony involves the use of colors directly opposite each other on the color wheel, creating a stark contrast. This method effectively conveys a positive/negative connotation, ideal for emphasizing differences. While colors located near each other on the wheel can also complement each other, those placed in opposition offer the most substantial reinforcement for a key color. The illustration below compares the population growth of Asia and Europe. Here, the use of bright purple underscores the remarkable population surge in Asia, while the green tone underlines the comparatively slower growth in Europe.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np3 <- continents %>%\n  filter(continent %in% c(\"Asia\", \"Europe\")) %>%\n  ggplot(aes(x = year, y = total_pop_mil, color = continent)) +\n  geom_line(linewidth = 1.5) +\n  theme_minimal() +\n  theme(legend.position = \"none\") +\n  scale_y_log10() +\n  scale_color_manual(values = c(\"#DA70D6\", \"#70DA74\")) +\n  geom_dl(aes(label = continent), method = \"smart.grid\") +\n  labs(x = element_blank(), y = \"Population in Millions (log10)\")\n\n\ncomplementary + p3 + plot_annotation(title = \"Complementary Harmony with a Positive/Negative Connotation\", theme = theme(plot.title = element_text(size = 16)))\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-5-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n#### Near Complementary Harmony for Highlighting Two Series Where One Is the Primary Focus\n\nNear Complementary Harmony is a color scheme that achieves substantial contrast without resorting to using colors diametrically opposite on the color wheel. Instead, it involves choosing a color located 33% around the wheel from the principal color, rather than a full 50% away. This method is effective when highlighting two series, one of which is the primary focus. It's preferable to use warm colors for the key series and cool colors for the complementary ones. If required, the intensity of the complementary colors can be subdued by reducing their saturation or modifying their lightness, thereby lowering the contrast with the background. The example below underscores the significance of Asia's population growth, while Europe is neutrally depicted as a comparative reference, not a region with slow growth.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np4 <- continents %>%\n  filter(continent %in% c(\"Asia\", \"Europe\")) %>%\n  ggplot(aes(x = year, y = total_pop_mil, color = continent)) +\n  geom_line(size = 1.5) +\n  theme_minimal() +\n  theme(legend.position = \"none\") +\n  scale_y_log10() +\n  scale_color_manual(values = c(\"#DA70D6\", \"#70D6DA\")) +\n  geom_dl(aes(label = continent), method = \"smart.grid\") +\n  labs(x = element_blank(), y = \"Population in Millions (log10)\")\n\ntriadic + p4 + plot_annotation(title = \"Near Complementary Harmony for Highlighting \\nTwo Series Where One Is the Primary Focus\", theme = theme(plot.title = element_text(size = 16)))\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-6-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Color Palettes for Comparing Three Things\n\n#### Analogous/Triadic Harmony for Highlighting Three Series\n\nAnalogous Complementary is a color scheme that employs four colors. It combines the key color and its complementary color with two colors adjacent to the complementary color on the color wheel. This scheme retains analogous harmony while forming a quartet of colors, suitable for highlighting one main data series and its three sub-components. The similarities among the three complementary colors render the key color more prominent. The example below depicts the \"Malaysian Economic Miracle\" by contrasting Malaysia's economic growth with that of its three neighboring countries.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np5 <- continents %>%\n  filter(continent %in% c(\"Asia\", \"Europe\", \"Americas\")) %>%\n  ggplot(aes(x = year, y = total_pop_mil, color = continent)) +\n  geom_line(size = 1.5) +\n  theme_minimal() +\n  theme(legend.position = \"none\") +\n  scale_y_log10() +\n  scale_color_manual(values = c(\"#DA70D6\", \"#DA70A1\", \"#A970DA\")) +\n  geom_dl(aes(label = continent), method = \"smart.grid\") +\n  labs(x = element_blank(), y = \"Population in Millions (log10)\")\n\nanalogous + p5 + plot_annotation(title = \"Analogous/Triadic Harmony for Highlighting Three Series\", theme = theme(plot.title = element_text(size = 16)))\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-7-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n#### Highlighting One Series Against Two Related Series\n\nThe Near Complementary Harmony color scheme is adept at highlighting one series against others. The following chart clearly emphasizes Asia's GDP, represented by a vibrant purple. Conversely, Europe and the Americas, depicted in harmonizing greens, play a more subsidiary role in this narrative.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np6 <- continents %>%\n  filter(continent %in% c(\"Asia\", \"Europe\", \"Americas\")) %>%\n  ggplot(aes(x = year, y = total_gdppc, color = continent)) +\n  geom_line(size = 1.5) +\n  theme_minimal() +\n  theme(legend.position = \"none\") +\n  scale_y_log10() +\n  scale_color_manual(values = c(\"#A1DA70\", \"#DA70D6\", \"#70DAA9\")) +\n  geom_dl(aes(label = continent), method = \"smart.grid\") +\n  labs(x = element_blank(), y = \"GDP per Capita (log10)\")\n\ncomplementary_3 + p6 + plot_annotation(title = \"Highlighting One Series Against Two Related Series\", theme = theme(plot.title = element_text(size = 16)))\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-8-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Color Palettes for Comparing Four Things\n\n#### Analogous Complementary for One Main Series and Its Three Secondary\n\nThe Analogous Complementary scheme, involving four distinct colors, provides an excellent platform for highlighting a primary series along with three related components. With this scheme, the key color stands out due to the similarities among the three complementary colors. An illustration of this can be seen in the subsequent example showcasing the 'Malaysian Economic Miracle' alongside three neighboring countries.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np7 <- malay_miracle %>% ggplot(aes(x = year, y = gdpPercap, color = country)) +\n  geom_line(linewidth = 1.5) +\n  theme_minimal() +\n  # scale_y_log10() +\n  theme(legend.position = \"none\") +\n  scale_color_manual(values = c(\"#A1DA70\", \"#DA70D6\", \"#70DA74\", \"#70DAA9\")) +\n  geom_dl(aes(label = country), method = \"smart.grid\") +\n  labs(x = element_blank(), y = \"GDP per Capita (log10)\")\n\ncomplementary_4 + p7 + plot_annotation(title = \"Analogous Complementary for One Main Series and \\nIts Three Components\", theme = theme(plot.title = element_text(size = 16)))\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-9-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n#### Double Complementary for Two Pairs Where One Pair Is Dominant\n\nThe Double Complementary Harmony scheme is ideal for visualizing four data series divided into two distinct pairs. It involves the key color, an adjacent color, and their respective opposites on the color wheel. Warmer colors are suggested for the key and adjacent colors, with their complementary counterparts in cooler tones. This color arrangement effectively highlights one pair over the other. As demonstrated below, the 1952 GDPs of Switzerland and Norway form one group denoted in purple hues, while Bosnia and Albania, differentiated in green-blue, form the other group.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np8 <- gapminder %>%\n  filter((continent == \"Europe\")) %>%\n  mutate(bot_top = case_when(\n    country %in% c(\"Albania\") ~ \"Albania\",\n    country %in% c(\"Bosnia and Herzegovina\") ~ \"Bosnia\",\n    country %in% c(\"Switzerland\") ~ \"Switzerland\",\n    country %in% c(\"Norway\") ~ \"Norway\",\n    T ~ \"other\"\n  )) %>%\n  ggplot(aes(x = year, y = gdpPercap, color = bot_top, group = country, alpha = bot_top)) +\n  geom_line(linewidth = 1.5) +\n  theme_minimal() +\n  theme(legend.position = \"none\", legend.title = element_blank()) +\n  scale_y_log10() +\n  geom_dl(aes(label = bot_top), method = \"smart.grid\") +\n  scale_color_manual(values = c(\"#70DA74\", \"#70D6DA\", \"#DA70D6\", \"grey\", \"#DA7470\")) +\n  scale_alpha_manual(values = c(1, 1, 1, 0.3, 1)) +\n  labs( # title = \"Growth of the bottom 2 and \\ntop 2 countries by GDP in 1952\",\n    x = element_blank(), y = \"GDP per Capita (log10)\"\n  )\n\n\ntetradic + p8 + plot_annotation(title = \"Double Complementary for Two Pairs Where One Pair Is Dominant\", theme = theme(plot.title = element_text(size = 16)))\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-10-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n#### Rectangular or Square Complementary for Four Series of Equal Emphasis\n\nThe Rectangular or Square Complementary scheme suits data visualization of four series with equal emphasis. Differing from the double complementary scheme, it includes the key color, its complement, and two additional colors to form a rectangle or square on the color wheel. This results in distinctive colors for each of the four series. While similar to double complementary, this scheme is optimal when all series share equal importance. For instance, in the graph below, the \"Four Asian Tigers\"—Hong Kong, Singapore, South Korea, and Taiwan—are shown. These economies, rapidly developed from the 1960s to 1990s, are all equally significant in illustrating the dynamism of East Asia's growth.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np9 <- asian_tigers %>% ggplot(aes(x = year, y = gdpPercap, color = country)) +\n  geom_line(linewidth = 1.5) +\n  theme_minimal() +\n  theme(legend.position = \"none\") +\n  scale_y_log10() +\n  scale_color_manual(values = c(\"#DA70D6\", \"#DAA970\", \"#70DA74\", \"#70A1DA\")) +\n  geom_dl(aes(label = country), method = \"smart.grid\") +\n  labs(x = element_blank(), y = \"GDP per Capita (log10)\")\n\nsquare + p9 + plot_annotation(title = \"Rectangular or Square Complementary for \\nFour Series of Equal Emphasis\", theme = theme(plot.title = element_text(size = 16)))\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-11-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n## Sequential and Divergent\n\nSequential colors utilize a gradient from light to dark, mapping numeric values based on hue or lightness. Depending on the background, lower values receive lighter colors, while higher ones get darker shades. You can use a single hue or a sequence thereof.\n\nLet's apply our beloved purple to GDP of different countries.\n\n### Sequential\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"sf\")\nlibrary(\"rnaturalearth\")\nlibrary(\"rnaturalearthdata\")\nworld <- ne_countries(scale = \"medium\", returnclass = \"sf\") %>% mutate(gdppc = gdp_md_est)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(sequential | p10) +\n  patchwork::plot_layout(widths = c(1, 3)) +\n  plot_annotation(\n    title = \"Sequential\",\n    theme = theme(plot.title = element_text(size = 16))\n  )\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-14-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Divergent\n\nDiverging color schemes are employed when the numeric variable possesses a significant central value like zero. This scheme combines two sequential palettes with a common end, centering on the central value. Positive values receive colors from one side of the spectrum, while negative ones are designated colors from the other. The central value should ideally be a light shade, allowing darker colors to signify greater deviation from the center. Simplicity is key here to prevent diluting the intended meaning and confusing viewers. Rightly chosen, colors can minimize cognitive load, facilitating comprehension of complex data.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(divergent | p11) +\n  patchwork::plot_layout(widths = c(1, 3)) +\n  plot_annotation(\n    title = \"Divergent\",\n    theme = theme(plot.title = element_text(size = 16))\n  )\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-15-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Prebuilt\n\nPrebuilt color scales such as \"Viridis\" are crafted for perceptual uniformity, ensuring visual appeal and ease of interpretation. These provide a standard, uniform color scheme, thus obviating the need for custom creation and testing. Moreover, they aid individuals with color blindness in interpreting data visualizations, owing to their consistent visual contrast. By employing prebuilt color scales, data visualizations can be made accessible to a broad audience.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(viridis | p12) +\n  patchwork::plot_layout(widths = c(1, 3)) +\n  plot_annotation(\n    title = \"Virdis\",\n    theme = theme(plot.title = element_text(size = 16))\n  )\n```\n\n::: {.cell-output-display}\n![](color_files/figure-pdf/unnamed-chunk-16-1.pdf){fig-pos='H'}\n:::\n:::\n",
    "supporting": [
      "color_files/figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": true
  }
}