<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

<meta charset="utf-8" />
<meta name="generator" content="quarto-1.3.433" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />


<title>Practical tools for modern research – 5  Relational Databases</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<!-- htmldependencies:E3FAD763 -->
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn"
      data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" 
      aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation"
      onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <h1 class="quarto-secondary-nav-title"></h1>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" 
      aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation"
      onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="/">
      Practical tools for modern research
      </a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/nikitoshina/quarto_book" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/chapters/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/chapters/setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>2</span>  <span class='chapter-title'>Set up</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Working with Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/chapters/data_manipulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>3</span>  <span class='chapter-title'>Data Manipulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/chapters/tidy_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>4</span>  <span class='chapter-title'>Tidy Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/chapters/data_bases.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class='chapter-number'>5</span>  <span class='chapter-title'>Relational Databases</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/chapters/data_validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>6</span>  <span class='chapter-title'>Optimizing Data Validation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/chapters/imputation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>7</span>  <span class='chapter-title'>Imputation</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" ></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <div id="quarto-toc-target"></div>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>  <span class="chapter-title">Relational Databases</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>
<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-relationships" id="toc-sec-relationships"><span class="header-section-number">5.1</span> Relationship Types</a>
  <ul>
  <li><a href="#one-to-one-11" id="toc-one-to-one-11"><span class="header-section-number">5.1.1</span> One to One (1:1)</a></li>
  <li><a href="#one-to-many-1m" id="toc-one-to-many-1m"><span class="header-section-number">5.1.2</span> One to Many (1:M)</a></li>
  <li><a href="#many-to-many-mn" id="toc-many-to-many-mn"><span class="header-section-number">5.1.3</span> Many to Many (M:N)</a></li>
  </ul></li>
  <li><a href="#the-concept-of-keys" id="toc-the-concept-of-keys"><span class="header-section-number">5.2</span> The Concept of Keys</a></li>
  <li><a href="#types-of-joins" id="toc-types-of-joins"><span class="header-section-number">5.3</span> Types of Joins</a>
  <ul>
  <li><a href="#outer-joins" id="toc-outer-joins"><span class="header-section-number">5.3.1</span> Outer Joins</a></li>
  <li><a href="#filtering-joins" id="toc-filtering-joins"><span class="header-section-number">5.3.2</span> Filtering Joins</a></li>
  </ul></li>
  <li><a href="#visualizing-databases" id="toc-visualizing-databases"><span class="header-section-number">5.4</span> Visualizing Databases</a></li>
  </ul>
</nav>
<p>A database is an organized collection of data that can be easily stored, managed, updated, and retrieved. One such type is the relational database, which structures data into tables consisting of rows and columns. Each row, also known as a record, encapsulates information about a single entity, while each column, or attribute, defines a specific aspect of that entity.</p>
<p>Relational databases employ tables and relationships between these tables to store data. A row signifies a unique instance of a table’s subject, while a column represents a distinct characteristic of the subject.</p>
<p>For example, consider the following table:</p>
<table>
<thead>
<tr class="header">
<th>Student ID</th>
<th>Student Name</th>
<th>HW1</th>
<th>HW2</th>
<th>MidTerm</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>20101002</td>
<td>Nikita</td>
<td>88</td>
<td>100</td>
<td>76</td>
</tr>
<tr class="even">
<td>20101003</td>
<td>Nelson</td>
<td>78</td>
<td>98</td>
<td>100</td>
</tr>
<tr class="odd">
<td>20101004</td>
<td>Parsa</td>
<td>98</td>
<td>99</td>
<td>95</td>
</tr>
<tr class="even">
<td>20101005</td>
<td>Shivani</td>
<td>56</td>
<td>80</td>
<td>76</td>
</tr>
</tbody>
</table>
<p>When rows from one table can be associated with rows in another table, the tables are understood to share a relationship.</p>
<section id="sec-relationships" class="level2" data-number="5.1">
<h2 data-number="5.1"><span class="header-section-number">5.1</span> Relationship Types</h2>
<section id="one-to-one-11" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1"><span class="header-section-number">5.1.1</span> One to One (1:1)</h3>
<p>In a one-to-one relationship, a single row in the first table corresponds to just one row in the second table, and vice versa. For example, the relationship between Countries and their respective Capitals:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 214.00 130.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 126)">
<title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-126 210,-126 210,4 -4,4"></polygon> <g id="clust1" class="cluster">
<title>
cluster_0
</title>
<polygon fill="none" stroke="white" points="8,-8 8,-114 96,-114 96,-8 8,-8"></polygon> </g> <g id="clust2" class="cluster">
<title>
cluster_1
</title>
<polygon fill="none" stroke="white" points="116,-8 116,-114 198,-114 198,-8 116,-8"></polygon> </g> <!-- Table1 --> <g id="node1" class="node">
<title>
Table1
</title>
<polygon fill="lightblue" stroke="transparent" points="25,-81 25,-101 79,-101 79,-81 25,-81"></polygon> <text text-anchor="start" x="26.72" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Country</text> <text text-anchor="start" x="35.28" y="-66.4" font-family="Times,serif" font-size="14.00">China</text> <text text-anchor="start" x="32.96" y="-46.4" font-family="Times,serif" font-size="14.00">France</text> <text text-anchor="start" x="39.17" y="-26.4" font-family="Times,serif" font-size="14.00">Italy</text> <polygon fill="none" stroke="black" points="24,-20 24,-102 80,-102 80,-20 24,-20"></polygon> </g> <!-- Table2 --> <g id="node2" class="node">
<title>
Table2
</title>
<polygon fill="lightblue" stroke="transparent" points="133,-81 133,-101 181,-101 181,-81 133,-81"></polygon> <text text-anchor="start" x="134.83" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Capital</text> <text text-anchor="start" x="136.39" y="-66.4" font-family="Times,serif" font-size="14.00">Beijing</text> <text text-anchor="start" x="143" y="-46.4" font-family="Times,serif" font-size="14.00">Paris</text> <text text-anchor="start" x="140.28" y="-26.4" font-family="Times,serif" font-size="14.00">Rome</text> <polygon fill="none" stroke="black" points="132,-20 132,-102 182,-102 182,-20 132,-20"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge1" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M80,-71C80,-71 106.86,-71 121.97,-71"></path> <polygon fill="black" stroke="black" points="122,-74.5 132,-71 122,-67.5 122,-74.5"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge2" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M80,-51C80,-51 106.86,-51 121.97,-51"></path> <polygon fill="black" stroke="black" points="122,-54.5 132,-51 122,-47.5 122,-54.5"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge3" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M80,-31C80,-31 106.86,-31 121.97,-31"></path> <polygon fill="black" stroke="black" points="122,-34.5 132,-31 122,-27.5 122,-34.5"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
</section>
<section id="one-to-many-1m" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2"><span class="header-section-number">5.1.2</span> One to Many (1:M)</h3>
<p>In a one-to-many relationship, a single row in the first table can be linked to multiple rows in the second table, but a row in the second table is related to only one row in the first table. For instance, one Professor can teach several Classes:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 215.00 130.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 126)">
<title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-126 211,-126 211,4 -4,4"></polygon> <g id="clust1" class="cluster">
<title>
cluster_0
</title>
<polygon fill="none" stroke="white" points="8,-28 8,-114 102,-114 102,-28 8,-28"></polygon> </g> <g id="clust2" class="cluster">
<title>
cluster_1
</title>
<polygon fill="none" stroke="white" points="122,-8 122,-114 199,-114 199,-8 122,-8"></polygon> </g> <!-- Table1 --> <g id="node1" class="node">
<title>
Table1
</title>
<polygon fill="lightblue" stroke="transparent" points="25,-81 25,-101 85,-101 85,-81 25,-81"></polygon> <text text-anchor="start" x="26.62" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Professor</text> <text text-anchor="start" x="36.72" y="-66.4" font-family="Times,serif" font-size="14.00">Hobbs</text> <text text-anchor="start" x="43.34" y="-46.4" font-family="Times,serif" font-size="14.00">Doe</text> <polygon fill="none" stroke="black" points="24,-40 24,-102 86,-102 86,-40 24,-40"></polygon> </g> <!-- Table2 --> <g id="node2" class="node">
<title>
Table2
</title>
<polygon fill="lightblue" stroke="transparent" points="139.5,-81 139.5,-101 182.5,-101 182.5,-81 139.5,-81"></polygon> <text text-anchor="start" x="145.05" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Class</text> <text text-anchor="start" x="141.17" y="-66.4" font-family="Times,serif" font-size="14.00">690-02</text> <text text-anchor="start" x="141.17" y="-46.4" font-family="Times,serif" font-size="14.00">692-01</text> <text text-anchor="start" x="141.17" y="-26.4" font-family="Times,serif" font-size="14.00">405-01</text> <polygon fill="none" stroke="black" points="138,-20 138,-102 183,-102 183,-20 138,-20"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge1" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M86,-71C86,-71 113.12,-71 128.38,-71"></path> <polygon fill="black" stroke="black" points="128.5,-74.5 138.5,-71 128.5,-67.5 128.5,-74.5"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge2" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M86,-51C86,-51 113.12,-51 128.38,-51"></path> <polygon fill="black" stroke="black" points="128.5,-54.5 138.5,-51 128.5,-47.5 128.5,-54.5"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge3" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="black" d="M86,-71C86,-71 113.71,-60.44 128.87,-54.67"></path> <polygon fill="black" stroke="black" points="130.4,-57.83 138.5,-51 127.91,-51.29 130.4,-57.83"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
</section>
<section id="many-to-many-mn" class="level3" data-number="5.1.3">
<h3 data-number="5.1.3"><span class="header-section-number">5.1.3</span> Many to Many (M:N)</h3>
<p>In a many-to-many relationship, a single row in the first table can be associated with many rows in the second table, and similarly, a row in the second table can be associated with many rows in the first table. For example, multiple Students can be enrolled in multiple Classes:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 205.00 130.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 126)">
<title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-126 201,-126 201,4 -4,4"></polygon> <g id="clust1" class="cluster">
<title>
cluster_0
</title>
<polygon fill="none" stroke="white" points="8,-8 8,-114 92,-114 92,-8 8,-8"></polygon> </g> <g id="clust2" class="cluster">
<title>
cluster_1
</title>
<polygon fill="none" stroke="white" points="112,-8 112,-114 189,-114 189,-8 112,-8"></polygon> </g> <!-- Table1 --> <g id="node1" class="node">
<title>
Table1
</title>
<polygon fill="lightblue" stroke="transparent" points="25,-81 25,-101 75,-101 75,-81 25,-81"></polygon> <text text-anchor="start" x="26.66" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Student</text> <text text-anchor="start" x="36.78" y="-66.4" font-family="Times,serif" font-size="14.00">John</text> <text text-anchor="start" x="32.89" y="-46.4" font-family="Times,serif" font-size="14.00">David</text> <text text-anchor="start" x="29.4" y="-26.4" font-family="Times,serif" font-size="14.00">Celeste</text> <polygon fill="none" stroke="black" points="24,-20 24,-102 76,-102 76,-20 24,-20"></polygon> </g> <!-- Table2 --> <g id="node2" class="node">
<title>
Table2
</title>
<polygon fill="lightblue" stroke="transparent" points="129.5,-81 129.5,-101 172.5,-101 172.5,-81 129.5,-81"></polygon> <text text-anchor="start" x="135.05" y="-87.4" font-family="Times,serif" font-weight="bold" font-size="14.00">Class</text> <text text-anchor="start" x="131.17" y="-66.4" font-family="Times,serif" font-size="14.00">690-02</text> <text text-anchor="start" x="131.17" y="-46.4" font-family="Times,serif" font-size="14.00">692-01</text> <text text-anchor="start" x="131.17" y="-26.4" font-family="Times,serif" font-size="14.00">405-01</text> <polygon fill="none" stroke="black" points="128,-20 128,-102 173,-102 173,-20 128,-20"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge1" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="red" d="M76,-71C76,-71 103.12,-71 118.38,-71"></path> <polygon fill="red" stroke="red" points="118.5,-74.5 128.5,-71 118.5,-67.5 118.5,-74.5"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge2" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="red" d="M76,-71C76,-71 103.71,-60.44 118.87,-54.67"></path> <polygon fill="red" stroke="red" points="120.4,-57.83 128.5,-51 117.91,-51.29 120.4,-57.83"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge3" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="blue" d="M76,-51C76,-51 103.71,-61.56 118.87,-67.33"></path> <polygon fill="blue" stroke="blue" points="117.91,-70.71 128.5,-71 120.4,-64.17 117.91,-70.71"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge4" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="blue" d="M76,-51C76,-51 103.12,-51 118.38,-51"></path> <polygon fill="blue" stroke="blue" points="118.5,-54.5 128.5,-51 118.5,-47.5 118.5,-54.5"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge5" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="blue" d="M76,-51C76,-51 103.71,-40.44 118.87,-34.67"></path> <polygon fill="blue" stroke="blue" points="120.4,-37.83 128.5,-31 117.91,-31.29 120.4,-37.83"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge6" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="orange" d="M76,-31C76,-31 103.71,-41.56 118.87,-47.33"></path> <polygon fill="orange" stroke="orange" points="117.91,-50.71 128.5,-51 120.4,-44.17 117.91,-50.71"></polygon> </g> <!-- Table1&#45;&gt;Table2 --> <g id="edge7" class="edge">
<title>
Table1:e-&gt;Table2:w
</title>
<path fill="none" stroke="orange" d="M76,-31C76,-31 103.12,-31 118.38,-31"></path> <polygon fill="orange" stroke="orange" points="118.5,-34.5 128.5,-31 118.5,-27.5 118.5,-34.5"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="the-concept-of-keys" class="level2" data-number="5.2">
<h2 data-number="5.2"><span class="header-section-number">5.2</span> The Concept of Keys</h2>
<p>A Primary Key (PK) is a unique identifier for each row within a table; every table should possess a primary key. To establish relationships between tables, we integrate PKs from one table into another, where they become Foreign Keys (FKs). These FKs allow us to draw connections between related entities across different tables.</p>
<div id="tbl-keys" class="tbl-parent quarto-layout-panel">
<div class="panel-caption table-caption">
<p>Keys</p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">ClassID (PK)</th>
<th style="text-align: left;">ProfessorID (FK)</th>
<th style="text-align: left;">Credits</th>
<th style="text-align: left;">Location</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">620-01</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">LM-340</td>
</tr>
<tr class="even">
<td style="text-align: left;">623-01</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">UM-102</td>
</tr>
<tr class="odd">
<td style="text-align: left;">663-01</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">LO-234</td>
</tr>
</tbody>
</table>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">ProfessorID (PK)</th>
<th style="text-align: left;">Professor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Arman</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Alessandra</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="types-of-joins" class="level2" data-number="5.3">
<h2 data-number="5.3"><span class="header-section-number">5.3</span> Types of Joins</h2>
<p>In relational databases, a join operation is employed to merge two or more tables based on a related column between them. There are several types of joins. To exemplify how joins operate, we will use two tables: <code>employees</code> and <code>projects</code>. The <code>employees</code> table includes <code>employee_id</code> (Primary Key) and <code>name</code>, while the <code>projects</code> table contains <code>project_id</code> (Primary Key) and <code>employee_id</code> (Foreign Key).</p>
<div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(employees, <span class="at">caption =</span> <span class="st">&quot;Employees Table&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(projects, <span class="at">caption =</span> <span class="st">&quot;Projects Table&quot;</span>)</span></code></pre></div>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<table>
<caption>Employees Table</caption>
<thead>
<tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Tom</td>
</tr>
</tbody>
</table>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<table>
<caption>Projects Table</caption>
<thead>
<tr class="header">
<th style="text-align: right;">project_id</th>
<th style="text-align: right;">employee_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<section id="outer-joins" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1"><span class="header-section-number">5.3.1</span> Outer Joins</h3>
<p>Outer joins are utilized to return matched data and unmatched data from one or both tables, effectively creating a more comprehensive table.</p>
<section id="left-join" class="level4" data-number="5.3.1.1">
<h4 data-number="5.3.1.1"><span class="header-section-number">5.3.1.1</span> Left Join</h4>
<p>A left join retrieves all the rows from the left table and only the matched rows from the right table. Essentially, it enriches the left table with additional information.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="images/Left_Join.png" class="img-fluid" /></p>
<figcaption>Left Join Illustration</figcaption>
</figure>
</div>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>left_join_result <span class="ot">&lt;-</span> employees <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(projects, <span class="at">by =</span> <span class="st">&quot;employee_id&quot;</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table>
<caption>Result of Left Join</caption>
<thead>
<tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
<th style="text-align: right;">project_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Tom</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="right-join" class="level4" data-number="5.3.1.2">
<h4 data-number="5.3.1.2"><span class="header-section-number">5.3.1.2</span> Right Join</h4>
<p>A right join operates similarly to a left join, but it retrieves all the rows from the right table and only the matched rows from the left table.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="images/Right_Join.png" class="img-fluid" /></p>
<figcaption>Right Join Illustration</figcaption>
</figure>
</div>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>right_join_result <span class="ot">&lt;-</span> employees <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">right_join</span>(projects, <span class="at">by =</span> <span class="st">&quot;employee_id&quot;</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># echo: false</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(right_join_result, <span class="at">caption =</span> <span class="st">&quot;Result of Right Join&quot;</span>)</span></code></pre></div>
<div class="cell-output-display">
<table>
<caption>Result of Right Join</caption>
<thead>
<tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
<th style="text-align: right;">project_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="full-join" class="level4" data-number="5.3.1.3">
<h4 data-number="5.3.1.3"><span class="header-section-number">5.3.1.3</span> Full Join</h4>
<p>A full join returns all the rows from both tables, filling non-matching rows with null values. It essentially merges both tables.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="images/Full_Join.png" class="img-fluid" /></p>
<figcaption>Full Join Illustration</figcaption>
</figure>
</div>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>full_join_result <span class="ot">&lt;-</span> employees <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(projects, <span class="at">by =</span> <span class="st">&quot;employee_id&quot;</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table>
<caption>Result of Full Join</caption>
<thead>
<tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
<th style="text-align: right;">project_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Tom</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="inner-join" class="level4" data-number="5.3.1.4">
<h4 data-number="5.3.1.4"><span class="header-section-number">5.3.1.4</span> Inner Join</h4>
<p>An inner join only returns the matched rows between two tables. Thus, only the rows that found a match in both tables will be retained.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="images/Inner_Join.png" class="img-fluid" /></p>
<figcaption>Inner Join Illustration</figcaption>
</figure>
</div>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>inner_join_result <span class="ot">&lt;-</span> employees <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(projects, <span class="at">by =</span> <span class="st">&quot;employee_id&quot;</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table>
<caption>Result of Inner Join</caption>
<thead>
<tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
<th style="text-align: right;">project_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="filtering-joins" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2"><span class="header-section-number">5.3.2</span> Filtering Joins</h3>
<section id="anti-join" class="level4" data-number="5.3.2.1">
<h4 data-number="5.3.2.1"><span class="header-section-number">5.3.2.1</span> Anti Join</h4>
<p>An anti join returns the rows from the left table that do not find a corresponding match in the right table, without adding any new columns to the output. It’s useful when you want to filter rows based on the absence of matching entries in the other table.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>anti_join_result <span class="ot">&lt;-</span> employees <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(projects, <span class="at">by =</span> <span class="st">&quot;employee_id&quot;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># knitr::kable(anti_join_result, caption = &quot;Result of Anti Join&quot;)</span></span></code></pre></div>
</div>
<div class="columns">
<div class="column">
<div class="cell">
<div class="cell-output-display">
<table>
<caption>Result of Anti Join</caption>
<thead>
<tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Tom</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column">
<p>Tom does not have a project assigned! Perhaps he could take on project 6?</p>
</div>
</div>
</section>
<section id="semi-join" class="level4" data-number="5.3.2.2">
<h4 data-number="5.3.2.2"><span class="header-section-number">5.3.2.2</span> Semi Join</h4>
<p>A semi join is akin to an inner join in identifying matching rows between two tables. However, unlike an inner join, it does not add any new columns to the output. Instead, it filters the rows from the left table that have a corresponding match in the right table. You’d use a semi join when you want to filter the left table based on the presence of matching entries in the right table.</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>semi_join_result <span class="ot">&lt;-</span> employees <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(projects, <span class="at">by =</span> <span class="st">&quot;employee_id&quot;</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table>
<caption>Result of Semi Join</caption>
<thead>
<tr class="header">
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">John</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jane</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Bob</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alice</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
</section>
<section id="visualizing-databases" class="level2" data-number="5.4">
<h2 data-number="5.4"><span class="header-section-number">5.4</span> Visualizing Databases</h2>
<p>We’re going to Unified Modeling Language (UML) to visualize relationships in databases. This might be your first time hearing that there is a language behind diagrams. UML is a standard graphical notation to describe software designs. It is a powerful tools for planning, visualizing and documents your projects. There are different types of diagrams to depict structures, behaviors and interactions with the standard set of symbols and notation.</p>
<p>UML coding tools like Mermaid and Graphviz are great options, but I find that drag-and-drop web applications such as <a href="https://www.lucidchart.com">LucidChart</a> and <a href="https://app.diagrams.net/">Draw.io</a> are more user-friendly. First, let’s introduce an entity, which is an object (place, person, thing) that we want to track in our database. In our case, these will be a customer, order, and product. Each entity possesses attributes, for example, a customer has <code>customer_id</code>, <code>name</code>, <code>email</code>, <code>address</code>, etc., and other entities also have a list of attributes. These entities and attributes are represented as rows and columns, respectively, in your tables. Tables can be interconnected, and these relationships are visualized by drawing a line between the tables. Cardinality is used to describe these relationships in numeric terms, akin to our discussion in <a href="#sec-relationships"><span class="quarto-unresolved-ref">sec-relationships</span></a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="images/cardinality.png" class="img-fluid" /></p>
<figcaption>Cardinality</figcaption>
</figure>
</div>
<p>For instance, let’s examine the relationship between a customer and an order. We ask: what is the relationship between a customer and an order? Using the min, max framework, what is the minimum and maximum number of orders a customer can have? A customer can have zero orders (min = 0) and an indefinite amount of orders (max = many). So, the relationship from customer to order is 0 or many. Now, let’s look in the opposite direction: how many customers can an order have? An order can have only one customer (min = 1, max = 1).</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="images/customer_order.png" class="img-fluid" /></p>
<figcaption>Customer-Order Relationship</figcaption>
</figure>
</div>
<p>Next, let’s examine the relationship between an order and a product. An order can include one or many products, and each product can be in zero or many orders. The complete diagram would resemble the following:</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="images/ERD.png" class="img-fluid" /></p>
<figcaption>Entity-Relationship Diagram</figcaption>
</figure>
</div>
<p>Creating such a diagram is recommended whenever you’re planning a project with a complex design. It clarifies the necessary tables and their relationships. You could also sketch a diagram whenever you’re unsure about a data set. If you’d like to delve deeper into this topic, check out the <a href="https://www.youtube.com/@lucid_software">Lucid Software YouTube</a> guides and <a href="https://www.youtube.com/watch?v=6Iu45VZGQDke">Neso Academy’s Database Management Systems course</a>.</p>
<div id="quarto-navigation-envelope" class="hidden">
<p><span class="hidden" data-render-id="quarto-int-sidebar-title">Practical tools for modern research</span> <span class="hidden" data-render-id="quarto-int-navbar-title">Practical tools for modern research</span> <span class="hidden" data-render-id="quarto-int-next"><span class="chapter-number">6</span>  <span class="chapter-title">Optimizing Data Validation</span></span> <span class="hidden" data-render-id="quarto-int-prev"><span class="chapter-number">4</span>  <span class="chapter-title">Tidy Data</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/index.html">Preface</span> <span class="hidden" data-render-id="quarto-int-sidebar:/chapters/intro.html"><span class="chapter-number">1</span>  <span class="chapter-title">Introduction</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/chapters/setup.html"><span class="chapter-number">2</span>  <span class="chapter-title">Set up</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-1">Working with Data</span> <span class="hidden" data-render-id="quarto-int-sidebar:/chapters/data_manipulation.html"><span class="chapter-number">3</span>  <span class="chapter-title">Data Manipulation</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/chapters/tidy_data.html"><span class="chapter-number">4</span>  <span class="chapter-title">Tidy Data</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/chapters/data_bases.html"><span class="chapter-number">5</span>  <span class="chapter-title">Relational Databases</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/chapters/data_validation.html"><span class="chapter-number">6</span>  <span class="chapter-title">Optimizing Data Validation</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/chapters/imputation.html"><span class="chapter-number">7</span>  <span class="chapter-title">Imputation</span></span> <span class="hidden" data-render-id="quarto-breadcrumbs-3ffdb1797f04c23a215070b004733b13">Working with Data</span> <span class="hidden" data-render-id="quarto-breadcrumbs-0f810d13389c536b9ae6d7370766bf38"><span class="chapter-number">5</span>  <span class="chapter-title">Relational Databases</span></span></p>
</div>
<div id="quarto-meta-markdown" class="hidden">
<p><span class="hidden" data-render-id="quarto-metatitle">Practical tools for modern research - <span class="chapter-number">5</span>  <span class="chapter-title">Relational Databases</span></span> <span class="hidden" data-render-id="quarto-twittercardtitle">Practical tools for modern research - <span class="chapter-number">5</span>  <span class="chapter-title">Relational Databases</span></span> <span class="hidden" data-render-id="quarto-ogcardtitle">Practical tools for modern research - <span class="chapter-number">5</span>  <span class="chapter-title">Relational Databases</span></span> <span class="hidden" data-render-id="quarto-metasitename">Practical tools for modern research</span> <span class="hidden" data-render-id="quarto-twittercarddesc"></span> <span class="hidden" data-render-id="quarto-ogcardddesc"></span></p>
</div>
</section>

</main> <!-- /main -->
<script id = "quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Handle positioning of the toggle
      window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a  href="/chapters/tidy_data.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class='chapter-number'>4</span>  <span class='chapter-title'>Tidy Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a  href="/chapters/data_validation.html" class="pagination-link">
        <span class="nav-page-text"><span class='chapter-number'>6</span>  <span class='chapter-title'>Optimizing Data Validation</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->

</body>

</html>